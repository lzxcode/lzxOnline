{"version":3,"file":"autoScroll.mjs","sources":["../../../../packages/components/autoScroll/src/autoScroll.tsx"],"sourcesContent":["import { ref, onMounted, defineProps, defineComponent } from \"vue\";\r\nimport \"./style.scss\"\r\nimport scroll from \"./hooks/scroll\";\r\nconst autoScroll = defineComponent({\r\n  name: \"autoScroll\",\r\n  props: {\r\n    mode: {\r\n      type: String,\r\n      default: \"auto\",\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    let { autoScroll } = scroll;\r\n    const count = ref(0);\r\n    const speed = ref(3);\r\n    let content: HTMLElement;\r\n    let body: HTMLElement;\r\n    let scrollItem: HTMLElement;\r\n    const scroolItemHeight = ref(0);\r\n    onMounted(() => {\r\n      content = document.getElementById(\"content\")!;\r\n      body = document.getElementById(\"body\")!;\r\n      scrollItem = document.getElementsByClassName(\"scrollItem\")[0] as HTMLElement;\r\n\r\n      // scroolItemHeight 记录高度 因为removeChild DOM之后 DOM依旧被引用会存在 但是高度缺变化为0了\r\n\r\n      scroolItemHeight.value = scrollItem.offsetHeight;\r\n      if (props.mode == \"auto\") {\r\n        autoScroll(content, body, scrollItem, count, scroolItemHeight, speed);\r\n      }\r\n    });\r\n\r\n    return () => (\r\n      <>\r\n        <div\r\n          id=\"content\"\r\n          class=\"content\"\r\n          style={{ height: `${props.height}px`, overflow: 'hidden' }}\r\n        >\r\n          <div id=\"body\" class=\"body\">\r\n            <div class=\"scrollItem\">\r\n              {slots.default?.()}\r\n            </div>\r\n          </div>\r\n        </div >\r\n      </>\r\n    )\r\n  }\r\n})\r\n\r\nexport default autoScroll\r\n\r\n"],"names":["autoScroll","defineComponent","props","slots","scroll","count","ref","speed","content","body","scrollItem","scroolItemHeight","onMounted","_createVNode","_Fragment","_a"],"mappings":";;;AAIA,MAAAA,IAAAC,EAAA;AAAA,EACA,MAAA;AAAA,EACA,OAAA;AAAA,IACA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,IACA,QAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,MAAAC,GAAA;AAAA,IACA,OAAAC;AAAA,EACA,GAAA;AACA,QAAA;AAAA,MACA,YAAAH;AAAA,IACA,IAAAI;AACA,UAAAC,IAAAC,EAAA,CAAA,GACAC,IAAAD,EAAA,CAAA;AACA,QAAAE,GACAC,GACAC;AACA,UAAAC,IAAAL,EAAA,CAAA;AACA,WAAAM,EAAA,MAAA;AACA,MAAAJ,IAAA,SAAA,eAAA,SAAA,GACAC,IAAA,SAAA,eAAA,MAAA,GACAC,IAAA,SAAA,uBAAA,YAAA,EAAA,CAAA,GAIAC,EAAA,QAAAD,EAAA,cACAR,EAAA,QAAA,UACAF,EAAAQ,GAAAC,GAAAC,GAAAL,GAAAM,GAAAJ,CAAA;AAAA,IAEA,CAAA,GACA,MAAA;;AAAAM,aAAAA,EAAAC,GAAA,MAAA,CAAAD,EAAA,OAAA;AAAA,QACA,IAAA;AAAA,QACA,OAAA;AAAA,QACA,OAAA;AAAA,UACA,QAAA,GAAAX,EAAA;AAAA,UACA,UAAA;AAAA,QACA;AAAA,MACA,GAAA,CAAAW,EAAA,OAAA;AAAA,QACA,IAAA;AAAA,QACA,OAAA;AAAA,MACA,GAAA,CAAAA,EAAA,OAAA;AAAA,QACA,OAAA;AAAA,MACA,GAAA,EAAAE,IAAAZ,EAAA,YAAA,gBAAAY,EAAA,KAAAZ,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;AAAA,EACA;AACA,CAAA;"}