{"version":3,"file":"scroll.mjs","sources":["../../../../../packages/components/autoScroll/src/hooks/scroll.ts"],"sourcesContent":["import { Ref } from \"vue\";\r\ntype Scroll = (\r\n  content: HTMLElement,\r\n  body: HTMLElement,\r\n  scrollItem: HTMLElement,\r\n  count: Ref,\r\n  scroolItemHeight: Ref,\r\n  speed: Ref\r\n) => void;\r\nconst autoScroll: Scroll = function (\r\n  content,\r\n  body,\r\n  scrollItem,\r\n  count,\r\n  scroolItemHeight,\r\n  speed\r\n) {\r\n  window.requestAnimationFrame(function scroll() {\r\n    if (!body.lastChild) throw new Error(\"没有滚动元素\");\r\n    if (\r\n      body.offsetHeight < content.offsetHeight ||\r\n      (body.lastChild as HTMLElement).offsetTop < content.offsetHeight\r\n    ) {\r\n      body.appendChild(scrollItem.cloneNode(true));\r\n    }\r\n    if (body.firstChild && Math.abs(body.offsetTop) >= scroolItemHeight.value) {\r\n      count.value = Math.abs(body.offsetTop) - scroolItemHeight.value;\r\n      body.removeChild(body.firstChild);\r\n    }\r\n    count.value = count.value - speed.value;\r\n    body.style.setProperty(\"margin-top\", `${count.value}px`);\r\n    window.requestAnimationFrame(scroll)\r\n  });\r\n};\r\n\r\nexport default {\r\n  autoScroll,\r\n};\r\n"],"names":["autoScroll","content","body","scrollItem","count","scroolItemHeight","speed","scroll"],"mappings":"AASA,MAAMA,IAAqB,SACzBC,GACAC,GACAC,GACAC,GACAC,GACAC,GACA;AACO,SAAA,sBAAsB,SAASC,IAAS;AAC7C,QAAI,CAACL,EAAK;AAAiB,YAAA,IAAI,MAAM,QAAQ;AAE3C,KAAAA,EAAK,eAAeD,EAAQ,gBAC3BC,EAAK,UAA0B,YAAYD,EAAQ,iBAEpDC,EAAK,YAAYC,EAAW,UAAU,EAAI,CAAC,GAEzCD,EAAK,cAAc,KAAK,IAAIA,EAAK,SAAS,KAAKG,EAAiB,UAClED,EAAM,QAAQ,KAAK,IAAIF,EAAK,SAAS,IAAIG,EAAiB,OACrDH,EAAA,YAAYA,EAAK,UAAU,IAE5BE,EAAA,QAAQA,EAAM,QAAQE,EAAM,OAClCJ,EAAK,MAAM,YAAY,cAAc,GAAGE,EAAM,SAAS,GACvD,OAAO,sBAAsBG,CAAM;AAAA,EAAA,CACpC;AACH,GAEeA,IAAA;AAAA,EACb,YAAAP;AACF;"}